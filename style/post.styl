@import 'yotsuba-colors'
// TODO fix explicit 'sfw'ness

.post
  margin 0
  padding 1em
  padding-right 0
  border-radius 0.3em

.reply
  padding-left 3em
  // motherfucking yellow fade
  transition-property background-color
  transition-duration 3s

.reply.new
  background #feffbf noise !important

.sage > .post-header > .name:after
  content " (sage)"

.reply:before, .inlined-idx
  content attr(data-idx)
  position absolute
  text-align right
  display inline-block
  margin-left -3em
  width 2em
  font-size 8pt
  font-family sans-serif

// the smaller font size of the index doesn't line up with the comment text
// if there's no .imageinfo, so increase the margin on non-imageposts
.reply:not(.imagepost):before, .inline:not(.imagepost) > .inlined-idx
  margin-top 0.5em

.inlined-idx
  cursor pointer
  &:hover
    text-decoration underline

.post-header
  margin 0 0.5em 0 0
  padding 0
  font-size 8pt
  font-family sans-serif
  color sfw-border - 10%
  font-weight normal

.post:not(.op) > .post-header
  float right

.subject
  color #0f0c5d
  font-weight 700
  text-decoration none
  &:hover
    text-decoration underline

.op > .post-header > .subject
  font-size 140%

.name
  color sfw-border - 10%
  &:link
    text-decoration underline

.fileinfo
  display table // prevent full width

  color sfw-border - 20%
  font-size 8pt
  font-family sans-serif

  // hide extended attributes until hovered
  &:not(:hover)
    & > .saucelink, & > .dimensions, & > .size
      transition-delay .5s
      opacity 0

.saucelink, .dimensions, .size
  transition-duration .5s

.file
  display block
  float left
  margin 0.3em 1em 0.3em 0
  position relative

.full
  // seems to fix weird left-margin in firefox
  display block

.capcode
  font-weight 800

.mod, .admin
  .capcode:hover
    cursor pointer

.admin
  .name, .capcode, .tripcode
    color #f00
  .capcode:after
    content url(https://static.4chan.org/image/adminicon.gif)

.mod
  .name, .capcode
    color #800080
  .capcode:after
    content url(https://static.4chan.org/image/modicon.gif)

// put spacing between inline spans
.name, .tripcode, .capcode, .posteruid, time, .permalink,
.filename, .dimensions, .size, .saucelink, .subject
  &:after
    content " "

.hide, .report
  float right
  padding 0 1px
  background transparent
  border 0
  line-height 100%
  font-size 9pt
  color sfw-border - 10%

// functional css
// bad idea? maybe
.post.hidden
  opacity 0.6

  .file, .comment, .backlinks, .fileinfo
    display none

// hidden to prevent repeats
.post.inlined
  display none
  // unless it's the hash
  &:target
    display block

.post.highlighted
  background-color #D6BAD0 !important


.hiddenlink
  text-decoration line-through

.deadlink
  color gray

.permalink
  color inherit

  .no:hover
      text-decoration underline

.recursivelink
  font-weight bold
  color: black !important

.comment
  margin 0
  word-wrap break-word
  line-height 1.8em
  // pleasant reading width
  width 40em
  .op &
    // larger thumbnail usually makes lines too short
    width 50em

.quote
  font-weight normal
  color #789922

.prettyprint
  background-color white
  padding .5em
  display inline-block
  max-width 40em
  overflow auto

// should really be qualified with class=spoiler, moot
s
  text-decoration none
  transition-duration 1s
  &:not(:hover)
    & > *, &
      color transparent !important
      text-shadow 0 0 7px black

.backlinks
  clear both


.backlink, .backlinks > .recursivelink
  margin-right 1em

a,strong
  &.quotelink.inlinedlink
    font-weight bold
    color #000

#postpreview
  outline none
  padding .5em
  box-shadow 5px 5px 10px rgba(0,0,0,.5)
  margin 0

.inline
  margin-right 0
  padding-right 0

.comment .inline
  display table // quasi-clears images properly

.backlink + .inline
  margin-left 2em

  // compact inline backlinks vertically, looks like threading.
  // FIXME need to fix spacing of unexpanded backlinks somehow
  margin-bottom  0
  padding-bottom 0

  // paperfold effect from the left, to indicate threading without full border
  background linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.05) 0.5em, rgba(0, 0, 0, 0.02) 10px, transparent 2em, transparent)

.inline .backlinks > .recursivelink
  display none

.backlink.inlinedlink
  display table // block without expansion

.hovered
  outline 3px dashed #00f

